[gd_scene load_steps=39 format=3 uid="uid://cviwi16h7v1c1"]

[ext_resource type="Script" path="res://mob_goblin.gd" id="1_yrwcw"]
[ext_resource type="Texture2D" uid="uid://dj3d43fjmbqf4" path="res://art/Mob Art/goblin1/Attack.png" id="2_xdvxq"]
[ext_resource type="AudioStream" uid="uid://btk4r3v8s0puo" path="res://music/goblindeath.mp3" id="3_1m67p"]
[ext_resource type="Texture2D" uid="uid://dg18vsyay3sbx" path="res://art/Mob Art/goblin1/Idle.png" id="3_en37k"]
[ext_resource type="Texture2D" uid="uid://bdsgx04x0emsk" path="res://art/Mob Art/goblin1/Death.png" id="3_vkgqb"]
[ext_resource type="Texture2D" uid="uid://c82oqsworqx1b" path="res://art/Mob Art/goblin1/Run.png" id="5_lhxu1"]
[ext_resource type="Texture2D" uid="uid://dg82gk6f465sq" path="res://art/Mob Art/goblin1/Take Hit.png" id="6_2dnat"]

[sub_resource type="AtlasTexture" id="AtlasTexture_dkka2"]
atlas = ExtResource("2_xdvxq")
region = Rect2(0, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_q1igh"]
atlas = ExtResource("2_xdvxq")
region = Rect2(150, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_ihfct"]
atlas = ExtResource("2_xdvxq")
region = Rect2(300, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_b224d"]
atlas = ExtResource("2_xdvxq")
region = Rect2(450, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_y10of"]
atlas = ExtResource("2_xdvxq")
region = Rect2(600, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_m4gbo"]
atlas = ExtResource("2_xdvxq")
region = Rect2(750, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_vusrn"]
atlas = ExtResource("2_xdvxq")
region = Rect2(900, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_cedcf"]
atlas = ExtResource("2_xdvxq")
region = Rect2(1050, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_bo1vm"]
atlas = ExtResource("3_vkgqb")
region = Rect2(0, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_wterl"]
atlas = ExtResource("3_vkgqb")
region = Rect2(150, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_pnmeh"]
atlas = ExtResource("3_vkgqb")
region = Rect2(300, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_d2lao"]
atlas = ExtResource("3_vkgqb")
region = Rect2(450, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_15yby"]
atlas = ExtResource("3_en37k")
region = Rect2(0, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_v02y1"]
atlas = ExtResource("3_en37k")
region = Rect2(150, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_k2ydm"]
atlas = ExtResource("3_en37k")
region = Rect2(300, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_i7n4e"]
atlas = ExtResource("3_en37k")
region = Rect2(450, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_84kef"]
atlas = ExtResource("5_lhxu1")
region = Rect2(0, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_rri0f"]
atlas = ExtResource("5_lhxu1")
region = Rect2(150, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_7tiv6"]
atlas = ExtResource("5_lhxu1")
region = Rect2(300, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_s6ege"]
atlas = ExtResource("5_lhxu1")
region = Rect2(450, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_lfdxa"]
atlas = ExtResource("5_lhxu1")
region = Rect2(600, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_qyjik"]
atlas = ExtResource("5_lhxu1")
region = Rect2(750, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_fisdr"]
atlas = ExtResource("5_lhxu1")
region = Rect2(900, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_ifhps"]
atlas = ExtResource("5_lhxu1")
region = Rect2(1050, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_rk8k5"]
atlas = ExtResource("6_2dnat")
region = Rect2(0, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_vsi3d"]
atlas = ExtResource("6_2dnat")
region = Rect2(150, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_7lg6m"]
atlas = ExtResource("6_2dnat")
region = Rect2(300, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_gk45a"]
atlas = ExtResource("6_2dnat")
region = Rect2(450, 0, 150, 150)

[sub_resource type="SpriteFrames" id="SpriteFrames_mqffj"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dkka2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q1igh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ihfct")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b224d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y10of")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m4gbo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vusrn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cedcf")
}],
"loop": true,
"name": &"attack",
"speed": 9.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bo1vm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wterl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pnmeh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d2lao")
}],
"loop": true,
"name": &"deaddrop",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_15yby")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v02y1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k2ydm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i7n4e")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_84kef")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rri0f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7tiv6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s6ege")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lfdxa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qyjik")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fisdr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ifhps")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rk8k5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vsi3d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7lg6m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gk45a")
}],
"loop": true,
"name": &"take_hit",
"speed": 9.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_76sq3"]
size = Vector2(11.4, 16.8)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_54e4p"]
bg_color = Color(0.854902, 0.133333, 0, 1)

[node name="Goblin" type="RigidBody2D" groups=["enemy"]]
collision_layer = 12
collision_mask = 12
gravity_scale = 0.0
lock_rotation = true
continuous_cd = 1
max_contacts_reported = 1
contact_monitor = true
angular_damp = 100.0
script = ExtResource("1_yrwcw")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(-23, -49)
scale = Vector2(4.36967, 4.36967)
sprite_frames = SubResource("SpriteFrames_mqffj")
animation = &"take_hit"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-30, -15)
scale = Vector2(10, 10)
shape = SubResource("RectangleShape2D_76sq3")

[node name="VisibleOnScreenNotifier2D" type="VisibleOnScreenNotifier2D" parent="."]

[node name="Timer" type="Timer" parent="."]
wait_time = 0.8

[node name="RespawnTimer" type="Timer" parent="."]

[node name="HealthBar" type="ProgressBar" parent="."]
visible = false
offset_left = -99.0
offset_top = -136.0
offset_right = 53.0
offset_bottom = -109.0
theme_override_styles/fill = SubResource("StyleBoxFlat_54e4p")
step = 20.0
show_percentage = false

[node name="HealthTimer" type="Timer" parent="."]
wait_time = 2.0

[node name="DeathTimer" type="Timer" parent="."]
wait_time = 3.0

[node name="DamageTimer" type="Timer" parent="."]
wait_time = 0.7

[node name="Deathsound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_1m67p")
volume_db = -30.0

[connection signal="body_shape_entered" from="." to="." method="_on_body_shape_entered"]
[connection signal="body_shape_exited" from="." to="." method="_on_body_shape_exited"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="RespawnTimer" to="." method="_on_respawn_timer_timeout"]
[connection signal="timeout" from="HealthTimer" to="." method="_on_health_timer_timeout"]
[connection signal="timeout" from="DeathTimer" to="." method="_on_death_timer_timeout"]
[connection signal="timeout" from="DamageTimer" to="." method="_on_damage_timer_timeout"]
